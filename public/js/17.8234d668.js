(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{6256:function(t,e,a){"use strict";a("b0ec")},b0ec:function(t,e,a){},fbc9:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pb-xl"},[a("q-header",[a("q-toolbar",[a("q-btn",{attrs:{to:{name:"SellerHome"},flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[t._v("\n       List pesanan\n      ")])],1)],1),a("div",{staticClass:"q-pt-sm"},[a("q-tabs",{attrs:{"active-color":"primary","outside-arrows":""},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}},t._l(t.options,(function(t){return a("q-tab",{key:t.value,attrs:{name:t.value,label:t.label,"no-caps":""}})})),1)],1),t.orders.data.length?[a("div",[a("q-list",{attrs:{separator:""}},[a("q-item",[a("q-item-section",{staticClass:"xs-hide",attrs:{side:""}},[t._v("\n         #\n        ")]),a("q-item-section",[a("q-item-label",[t._v("Detail")])],1),a("q-item-section",{attrs:{side:""}},[a("q-item-label",[t._v("Actions")])],1)],1),t._l(t.orders.data,(function(e,r){return a("q-item",{key:r},[a("q-item-section",{staticClass:"xs-hide",attrs:{side:"",top:""}},[t._v("\n          "+t._s(r+1)+"\n        ")]),a("q-item-section",{attrs:{top:""}},[a("div",{staticClass:"text-sm1"},[a("table",{staticClass:"dense"},[a("tr",[a("td",[t._v("INVOICE")]),a("td",[t._v(t._s(e.order_ref))])]),a("tr",[a("td",[t._v("Nama")]),a("td",[t._v(t._s(e.customer_name))])]),a("tr",[a("td",[t._v("WA")]),a("td",[t._v(t._s(e.customer_whatsapp))])]),a("tr",[a("td",[t._v("Total")]),a("td",[t._v(t._s(t.moneyIDR(e.grand_total)))])]),a("tr",[a("td",[t._v("Dibuat")]),a("td",[t._v(t._s(e.created_at))])]),a("tr",[a("td",[t._v("Pengiriman")]),a("td",[t._v(t._s(e.shipping_courier_name))])]),a("tr",[a("td",[t._v("Seller")]),a("td",[t._v(t._s(e.seller?e.seller.name:"-"))])]),a("tr",[a("td",[t._v("Pembayaran")]),a("td",[t._v(t._s(e.transaction?e.transaction.payment_method.split("_").join(" "):""))])]),a("tr",[a("td",[t._v("Status")]),a("td",[a("q-badge",{attrs:{color:t.changeBadgeColor(e.order_status)}},[t._v(t._s(e.status_label))])],1)])])])]),a("q-item-section",{attrs:{side:"",top:""}},[a("div",{staticClass:"column q-gutter-y-sm"},[t.canInputResi(e)?a("q-btn",{staticClass:"btn-order",attrs:{unelevated:"","no-caps":"",size:"12px",label:"Input Resi",color:"blue",outline:""},on:{click:function(a){return t.handleInputResi(e)}}}):t._e()],1)])],1)}))],2)],1),a("div",{staticClass:"flex justify-center q-py-xl"},[t.orders.count>t.orders.data.length?a("q-btn",{attrs:{outline:"",loading:t.orders.isLoadMore,label:"loadmore...",unelevated:"",color:"primary"},on:{click:t.loadMore}}):t._e()],1)]:[a("div",{staticClass:"text-center q-pt-xl"},[t._v("Tidak ada data")])],a("q-dialog",{model:{value:t.inputResiModal,callback:function(e){t.inputResiModal=e},expression:"inputResiModal"}},[a("q-card",{staticStyle:{width:"100%","max-width":"420px"},attrs:{square:""}},[a("div",{staticClass:"q-px-md q-py-sm bg-dark text-white text-weight-bold"},[t._v("Input Resi  "),t.orderSelected?a("span",[t._v("# "+t._s(t.orderSelected.order_ref))]):t._e()]),a("q-form",{on:{submit:function(e){return e.preventDefault(),t.submitResi(e)}}},[a("q-card-section",[a("div",{staticClass:"text-grey-8"},[t._v("No Resi")]),a("q-input",{attrs:{outlined:"",rules:[function(t){return t&&t.length>0||"Wajib diisi"}]},model:{value:t.form.resi,callback:function(e){t.$set(t.form,"resi",e)},expression:"form.resi"}}),a("div",{staticClass:"flex justify-end q-mt-sm q-gutter-x-sm"},[a("q-btn",{attrs:{outline:"",label:"Batal",color:"primary"},on:{click:function(e){return e.preventDefault(),t.closeModal(e)}}}),a("q-btn",{attrs:{unelevated:"",type:"submit",label:"Simpan",color:"primary"}})],1)],1)],1)],1)],1),a("q-inner-loading",{attrs:{showing:t.loading}},[a("q-spinner-facebook",{attrs:{size:"50px",color:"primary"}})],1)],2)},i=[],n=a("ded3"),s=a.n(n),o=(a("4de4"),a("ac1f"),a("841c"),a("d3b7"),a("e6cf"),a("a79d"),a("2f62")),l={name:"OrderIndex",data:function(){return{isFilter:!0,options:[{value:"ALL",label:"Semua"},{value:"UNPAID",label:"Belum Bayar"},{value:"PAID",label:"Dibayar"},{value:"PROCESS",label:"Proses"},{value:"SHIPPING",label:"Dikirim"},{value:"COMPLETE",label:"Selesai"},{value:"CANCELED",label:"Batal"}],inputResiModal:!1,orderSelected:"",followUpModal:!1,currentOrder:null,search:"",filter:"ALL",form:{order_id:"",resi:"",status:""}}},watch:{filter:function(t,e){t!=e&&(this.form.status=t,this.filterOrder(t))}},computed:s()({},Object(o["e"])({orders:function(t){return t.seller.orders},loading:function(t){return t.loading}})),created:function(){this.$route.query.filter?(this.filter=this.$route.query.filter,this.filterOrder(this.filter)):this.getOrder()},methods:s()(s()({},Object(o["b"])("seller",["getOrder","paginateOrder","filterOrder"])),{},{loadMore:function(){this.paginateOrder({filter:this.filter,skip:this.orders.data.length})},handleSelectMode:function(t){this.isFilter=!this.isFilter,this.search="",this.filter=""},changeTab:function(t){this.$router.push({name:"SellerOrder",query:{filter:t}}),this.search="",this.filterOrder(t)},handleKirimCod:function(t){var e=this;this.$q.dialog({title:"Konfirmasi",message:'Akan mengirim pesanan sekarang?, ini akan merubah status pesanan menjadi "sedang dikirim"',cancel:!0}).onOk((function(){e.form.status="SHIPPING",e.form.order_id=t.id,e.handleUpdateStatusOrder()}))},handleUpdateStatusOrder:function(){var t=this;this.$store.commit("SET_LOADING",!0),this.updateStatusOrder(this.form).then((function(){t.filter=t.form.status,t.filterOrder(t.filter)})).finally((function(){return t.$store.commit("SET_LOADING",!1)}))},handleCancelOrder:function(t){var e=this;this.$q.dialog({title:"Konfirmasi Pembatalan order",message:"Akan membatalkan order ini?, perubahan ini tidak dapat dikembalikan",cancel:!0}).onOk((function(){e.form.status="CANCELED",e.form.order_id=t.id,e.cancelOrder(t.id).then((function(){e.filter=e.form.status,e.filterOrder(e.filter)}))}))},canShip:function(t){return"COD"==t.shipping_courier_name&&("PROCESS"==t.order_status||"UNPAID"==t.order_status)},canComplete:function(t){return"SHIPPING"==t.order_status},canCancelOrder:function(t){return"UNPAID"==t.order_status},handleCompletionOrder:function(t){var e=this;this.$q.dialog({title:"Konfirmasi",message:'Ini akan merubah status pesanan menjadi "selesai"',cancel:!0}).onOk((function(){e.form.status="COMPLETE",e.form.order_id=t.id,e.handleUpdateStatusOrder()}))},handleSearchOrder:function(){this.search&&(this.$store.commit("SET_LOADING",!0),this.searchOrder(this.search))},resetOrder:function(){this.orderFiltered=[],this.isFilter=!1,this.search="",this.filter=""},changeBadgeColor:function(t){return"PAID"==t||"SHIPPING"==t?"teal":"PROCESS"==t?"blue":"COMPLETE"==t?"green":"CANCELED"==t?"red":"grey-7"},canConfirm:function(t){return"COD"!=t.shipping_courier_name&&("UNPAID"==t.order_status||"OVERDUE"==t.order_status)},canInputResi:function(t){return"COD"!=t.shipping_courier_name&&("PROCESS"==t.order_status||"PAID"==t.order_status)},messageButtonLabel:function(t){return"UNPAID"==t||"OVERDUE"==t?"FollowUp Order":"Kirim Pesan"},handleDeleteOrder:function(t){var e=this;this.$q.dialog({title:"Yakin akan menghapus data?",message:"data yang dihapus tidak dapat dikembalikan.",ok:{label:"Hapus",flat:!0,"no-caps":!0,color:"red-7"},cancel:{label:"Batal",flat:!0,"no-caps":!0}}).onOk((function(){e.destroyOrder(t).then((function(t){200==t.status&&e.filterOrder(e.filter)}))})).onCancel((function(){})).onDismiss((function(){}))},handleConfirmationOrder:function(t){var e=this;this.$q.dialog({title:"Konfirmasi pembayaran",message:"Pastikan pembayaran telah anda terima dengan baik",ok:{label:"Konfirmasi",flat:!0,"no-caps":!0,color:"green-7"},cancel:{label:"Batal",flat:!0,"no-caps":!0}}).onOk((function(){e.acceptPayment(t).then((function(){e.filter="PROCESS",e.filterOrder(e.filter)}))})).onCancel((function(){})).onDismiss((function(){}))},handleFollowUp:function(t){this.currentOrder=t,this.followUpModal=!0},handleInputResi:function(t){this.form.resi="",this.orderSelected=t,this.form.order_id=t.id,this.inputResiModal=!0},closeModal:function(){this.inputResiModal=!1,this.orderSelected="",this.form.order_id=""},submitResi:function(){var t=this;this.inputResi(this.form).then((function(){t.filter="SHIPPING",t.filterOrder(t.filter)})),this.closeModal()}})},d=l,c=(a("6256"),a("2877")),u=a("9989"),f=a("e359"),m=a("65c6"),h=a("9c40"),p=a("6ac5"),b=a("429b"),_=a("7460"),v=a("1c1c"),g=a("66e5"),O=a("4074"),q=a("0170"),C=a("58a81"),k=a("24e8"),S=a("f09f"),I=a("0378"),P=a("a370"),y=a("27f9"),D=a("74f7"),E=a("e669"),R=a("eebe"),x=a.n(R),A=Object(c["a"])(d,r,i,!1,null,"7b7adc80",null);e["default"]=A.exports;x()(A,"components",{QPage:u["a"],QHeader:f["a"],QToolbar:m["a"],QBtn:h["a"],QToolbarTitle:p["a"],QTabs:b["a"],QTab:_["a"],QList:v["a"],QItem:g["a"],QItemSection:O["a"],QItemLabel:q["a"],QBadge:C["a"],QDialog:k["a"],QCard:S["a"],QForm:I["a"],QCardSection:P["a"],QInput:y["a"],QInnerLoading:D["a"],QSpinnerFacebook:E["a"]})}}]);