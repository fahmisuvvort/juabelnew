(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[47],{"1a9f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-header",[a("q-toolbar",[a("q-btn",{attrs:{to:{name:"Settings"},flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[t._v("\n       List Produk\n      ")]),a("q-btn",{staticClass:"gt-xs",attrs:{"no-caps":"",flat:"",icon:"add_circle",to:{name:"ProductCreate"},label:"Tambah Produk"}})],1)],1),a("div",{staticClass:"border q-pa-md row item-center q-gutter-x-sm"},[a("div",{staticClass:"col"},[a("q-input",{ref:"input",attrs:{loading:t.loading,outlined:"",dense:"",color:"grey-2",placeholder:"ketik nama produk"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("q-btn",{attrs:{unelevated:"",label:"Cari",color:"primary"},on:{click:t.searchProduct}}),a("q-btn",{attrs:{outline:"",label:"Reset",color:"primary"},on:{click:t.getAdminProducts}})],1),t.products.available?[a("div",{staticClass:"q-pt-sm q-pb-xl"},[a("q-list",{attrs:{separator:""}},t._l(t.products.item.data,(function(e){return a("q-item",{key:e.id,staticClass:"q-py-md"},[a("q-item-section",{staticClass:"q-pr-sm",attrs:{avatar:"",top:""}},[e.assets?a("q-img",{staticClass:"bg-white img-product-admin",attrs:{src:e.assets[0].src,ratio:"1"}}):t._e()],1),a("q-item-section",[a("div",{staticClass:"q-gutter-y-sm"},[a("q-item-label",{staticClass:"text-md",attrs:{lines:"2"}},[t._v(t._s(e.title))]),a("q-item-label",{staticClass:"ellipsis-2-lines",attrs:{caption:""},domProps:{innerHTML:t._s(e.description)}}),a("q-item-label",{attrs:{caption:""}},[e.is_preorder?a("q-chip",{staticClass:"bg-teal text-white",attrs:{size:"sm"}},[t._v("Preorder")]):t._e(),a("q-chip",{attrs:{outline:"",color:"teal",size:"sm"}},[t._v(t._s(t.moneyIDR(e.price)))])],1)],1),a("div",{staticClass:"q-mt-sm text-xs"},[e.subcategory?a("q-chip",{attrs:{dense:"",size:"12px",outline:"",color:"green-6"}},[a("q-avatar",{attrs:{icon:"sell",color:"primary","text-color":"white"}}),t._v("\n         "+t._s(e.subcategory.title)+"\n        ")],1):t._e()],1)]),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"text-grey-8 q-gutter-xs column"},[a("q-btn",{attrs:{unelevated:"",size:"sm",round:"",icon:"delete",glossy:"",color:"red"},on:{click:function(a){return t.remove(e.id)}}}),a("q-btn",{attrs:{unelevated:"",to:{name:"ProductEdit",params:{id:e.id}},size:"sm",round:"",glossy:"",color:"info",icon:"edit"}}),a("q-btn",{attrs:{unelevated:"",to:{name:"ProductShow",params:{slug:e.slug}},size:"sm",round:"",glossy:"",color:"teal",icon:"visibility"}})],1)])],1)})),1),t.products.item.total>t.products.item.per_page?a("div",{staticClass:"q-my-md q-gutter-sm text-center"},[a("div",[t._v(t._s(t.products.item.current_page)+" of "+t._s(t.products.item.last_page)+" page")]),a("q-btn",{attrs:{"no-caps":"",size:"12px",unelevated:"",color:"primary",disable:!t.products.item.prev_page_url},on:{click:function(e){return t.paginate(t.products.item.prev_page_url)}}},[a("span",[t._v("Sebelumnya")])]),a("q-btn",{attrs:{"no-caps":"",size:"12px",unelevated:"",color:"primary",disable:!t.products.item.next_page_url},on:{click:function(e){return t.paginate(t.products.item.next_page_url)}}},[a("span",[t._v("Selanjutnya")])])],1):t._e()],1)]:[a("div",{staticClass:"text-center q-pt-xl"},[t._v("Tdak ada data")])],a("q-page-sticky",{staticClass:"lt-sm",attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"add",color:"primary",to:{name:"ProductCreate"},glossy:""}})],1)],2)},r=[],i=a("ded3"),o=a.n(i),n=(a("d3b7"),a("e6cf"),a("a79d"),a("ac1f"),a("841c"),a("2f62")),c=a("758b"),l={name:"AdminProductList",data:function(){return{pageNumber:1,search:"",productSearch:[]}},computed:o()({},Object(n["e"])({products:function(t){return t.product.admin_products},loading:function(t){return t.loading}})),methods:o()(o()({},Object(n["b"])("product",["getAdminProducts","productDelete","searchAdminProducts"])),{},{searchProduct:function(){var t=this;this.$store.commit("SET_LOADING",!0),this.$refs.input.blur(),this.searchAdminProducts(this.search).then((function(e){200==e.status&&t.$store.commit("product/SET_ADMIN_PRODUCTS",e.data.results)})).finally((function(){t.$store.commit("SET_LOADING",!1)}))},remove:function(t){var e=this;this.$q.dialog({title:"Konfirmasi Penghapusan Item",message:"Yakin akan menghapus data?",ok:{label:"Hapus",flat:!0,"no-caps":!0},cancel:{label:"Batal",flat:!0,"no-caps":!0}}).onOk((function(){e.productDelete(t)})).onCancel((function(){console.log("Cancel")})).onDismiss((function(){}))},getMargin:function(t){return t.buy_price&&t.price?t.price-t.buy_price:0},paginate:function(t){var e=this;Object(c["a"])().get(t).then((function(t){200==t.status&&e.$store.commit("product/SET_ADMIN_PRODUCTS",t.data.results)}))}}),created:function(){this.products.item.data.length||this.getAdminProducts()}},u=l,d=a("2877"),p=a("9989"),m=a("e359"),b=a("65c6"),g=a("9c40"),_=a("6ac5"),f=a("27f9"),q=a("1c1c"),h=a("66e5"),v=a("4074"),y=a("068f"),k=a("0170"),C=a("b047"),P=a("cb32"),x=a("de5e"),Q=a("eebe"),S=a.n(Q),w=Object(d["a"])(u,s,r,!1,null,null,null);e["default"]=w.exports;S()(w,"components",{QPage:p["a"],QHeader:m["a"],QToolbar:b["a"],QBtn:g["a"],QToolbarTitle:_["a"],QInput:f["a"],QList:q["a"],QItem:h["a"],QItemSection:v["a"],QImg:y["a"],QItemLabel:k["a"],QChip:C["a"],QAvatar:P["a"],QPageSticky:x["a"]})}}]);