(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"368c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",[a("q-header",[a("q-toolbar",[a("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),a("q-toolbar-title",[e._v("\n       List User\n      ")])],1)],1),a("div",{staticClass:"q-pa-md row justify-between items-center q-gutter-sm"},[a("div",{staticClass:"col"},[a("q-input",{attrs:{square:"",outlined:"",dense:"",debounce:"1000",placeholder:"Ketik nama, email atau nomor telpon user"},on:{input:e.findUser},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("div",{staticClass:"col-auto",staticStyle:{width:"60px"}},[a("q-input",{attrs:{square:"",outlined:"",dense:"",label:"Show",type:"number",min:"4"},model:{value:e.take,callback:function(t){e.take=t},expression:"take"}})],1),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{label:"reset",unelevated:"",color:"primary"},on:{click:e.reset}})],1)]),a("div",[a("q-list",{attrs:{separator:""}},[a("q-item",[a("q-item-section",{attrs:{side:""}},[e._v("#")]),a("q-item-section",[e._v("Info User")]),a("q-item-section",[e._v("Role")]),a("q-item-section",{attrs:{side:""}},[e._v("Aksi")])],1),e._l(e.users,(function(t,s){return a("q-item",{key:s},[a("q-item-section",{attrs:{side:"",top:""}},[e._v(e._s(s+1))]),a("q-item-section",{attrs:{top:""}},[a("div",[e._v(e._s(t.name))]),a("div",[e._v(e._s(t.email))]),a("div",[e._v(e._s(t.phone))])]),a("q-item-section",[a("div",[e._v(e._s(t.role))])]),a("q-item-section",{staticClass:"q-gutter-sm",attrs:{side:""}},[a("q-btn",{attrs:{size:"sm",color:"red-6",round:"",unelevated:"",icon:"delete"},on:{click:function(a){return e.handleDeleteUser(t.id)}}},[a("q-tooltip",[e._v("\n                Hapus User\n              ")])],1)],1)],1)})),e.userNotAvailable?a("q-item",[a("q-item-section",{staticClass:"text-center q-py-md"},[e._v("\n            Tidak ada data\n          ")])],1):e._e()],2),a("div",{staticClass:"q-py-md flex justify-center"},[e.canLoad?a("q-btn",{attrs:{loading:e.load,label:"Loadmore",color:"primary",outline:""},on:{click:e.loadUser}}):e._e()],1)],1)],1)},n=[],i=a("448a"),o=a.n(i),r=(a("d3b7"),a("e6cf"),a("a79d"),a("99af"),a("ac1f"),a("841c"),a("758b")),l={name:"UserList",data:function(){return{users:[],take:10,canLoad:!1,search:"",userNotAvailable:!1,deleteId:null,load:!1}},mounted:function(){this.users.length<this.take&&this.getUsers()},computed:{isDesktop:function(){return window.innerWidth>600}},methods:{getUsers:function(){var e=this;this.$q.loading.show(),Object(r["a"])().get("userList?take=".concat(this.take,"&skip=").concat(this.users.length)).then((function(t){200==t.status&&(e.users=t.data.results,e.canLoad=t.data.results.length==e.take,e.userNotAvailable=!e.users.length)})).finally((function(){e.$q.loading.hide()}))},loadUser:function(){var e=this;this.load=!0,Object(r["a"])().get("userList?take=".concat(this.take,"&skip=").concat(this.users.length)).then((function(t){200==t.status&&(e.users=[].concat(o()(e.users),o()(t.data.results)),e.canLoad=t.data.results.length==e.take,e.userNotAvailable=!e.users.length)})).finally((function(){e.load=!1}))},findUser:function(){var e=this;this.search&&Object(r["a"])().get("findUser/"+this.search).then((function(t){200==t.status&&(e.users=t.data.results,e.userNotAvailable=!e.users.length)}))},reset:function(){this.users=[],this.search="",this.getUsers()},handleDeleteUser:function(e){var t=this;1!=e?this.$q.dialog({title:"Yakin akan menghapus user?",message:"Data yang di hapus tidak dapat dikembalikan",cancel:!0}).onOk((function(){t.deleteUser(e)})):this.$q.notify({type:"negative",message:"User admin tidak bisa di hapus"})},handleDisableVendor:function(e){var t=this;this.$q.dialog({title:"Yakin akan NON aktifkan toko?",cancel:!0}).onOk((function(){t.disableVendor(e)}))},handleEnableVendor:function(e){var t=this;this.$q.dialog({title:"Yakin akan mengaktifkan toko?",cancel:!0}).onOk((function(){t.enableVendor(e)}))},disableVendor:function(e){var t=this;Object(r["a"])().post("setVendorStatus",{id:e,status:"disable"}).then((function(e){200==e.status&&t.reset()}))},enableVendor:function(e){var t=this;Object(r["a"])().post("setVendorStatus",{id:e,status:"enable"}).then((function(e){200==e.status&&t.reset()}))},deleteUser:function(e){var t=this;this.$q.loading.show(),Object(r["a"])().delete("user/"+e).then((function(e){200==e.status&&t.reset()})).finally((function(){t.$q.loading.hide()}))}}},c=l,d=a("2877"),u=a("9989"),h=a("e359"),f=a("65c6"),k=a("9c40"),m=a("6ac5"),b=a("27f9"),v=a("1c1c"),p=a("66e5"),q=a("4074"),g=a("05c0"),_=a("2eeb"),U=a("eebe"),w=a.n(U),y=Object(d["a"])(c,s,n,!1,null,null,null);t["default"]=y.exports;w()(y,"components",{QPage:u["a"],QHeader:h["a"],QToolbar:f["a"],QBtn:k["a"],QToolbarTitle:m["a"],QInput:b["a"],QList:v["a"],QItem:p["a"],QItemSection:q["a"],QTooltip:g["a"]}),w()(y,"directives",{GoBack:_["a"]})}}]);